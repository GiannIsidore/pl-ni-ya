---
interface Props {
  threadId?: number;
  parentId?: number;
  onSuccess?: () => void;
  placeholder?: string;
}

const { threadId, parentId, placeholder = "Share your thoughts..." } = Astro.props;
const editorId = `editor-${Math.random().toString(36).substr(2, 9)}`;
const threadIdStr = threadId?.toString() || '';
const parentIdStr = parentId?.toString() || '';
---

<div class="comment-editor bg-neutral-800 rounded-lg border border-neutral-700 p-4 lg:p-6" data-editor-id={editorId} data-thread-id={threadIdStr} data-parent-id={parentIdStr} data-placeholder={placeholder}>
  <div class="flex gap-4">
    <!-- User Avatar -->
    <div class="flex-shrink-0">
      <div class="w-10 h-10 lg:w-12 lg:h-12 rounded-full bg-neutral-700 flex items-center justify-center overflow-hidden">
        <img src="/Char.svg" alt="User avatar" class="w-full h-full object-cover" />
      </div>
    </div>

    <!-- Editor Container -->
    <div class="flex-1">
      <!-- Toolbar -->
      <div class="editor-toolbar flex flex-wrap items-center gap-1 mb-3 p-2 bg-neutral-900 rounded-t border border-neutral-700">
        <!-- Text Formatting -->
        <button type="button" class="toolbar-btn" data-command="bold" title="Bold (Ctrl+B)">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/>
          </svg>
        </button>
        <button type="button" class="toolbar-btn" data-command="italic" title="Italic (Ctrl+I)">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/>
          </svg>
        </button>
        <button type="button" class="toolbar-btn" data-command="underline" title="Underline (Ctrl+U)">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
          </svg>
        </button>
        <button type="button" class="toolbar-btn" data-command="strike" title="Strikethrough">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"/>
          </svg>
        </button>
        
        <div class="w-px h-6 bg-neutral-700 mx-1"></div>
        
        <!-- Text Color -->
        <div class="relative color-picker-container">
          <button type="button" class="toolbar-btn color-btn" data-command="color" title="Text Color">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
              <path d="M11 2L5.5 16h2.25l1.12-3h6.25l1.12 3h2.25L13 2h-2zm-1.38 9L12 4.67 14.38 11H9.62z"/>
            </svg>
            <div class="color-indicator w-4 h-1 bg-current mt-0.5 rounded"></div>
          </button>
          <div class="color-dropdown hidden absolute top-full left-0 mt-1 p-2 bg-neutral-800 border border-neutral-700 rounded shadow-lg z-10 grid grid-cols-5 gap-1">
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #000000" data-color="#000000"></button>
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #ef4444" data-color="#ef4444"></button>
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #f97316" data-color="#f97316"></button>
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #eab308" data-color="#eab308"></button>
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #22c55e" data-color="#22c55e"></button>
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #3b82f6" data-color="#3b82f6"></button>
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #8b5cf6" data-color="#8b5cf6"></button>
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #ec4899" data-color="#ec4899"></button>
            <button type="button" class="color-option w-6 h-6 rounded" style="background-color: #6b7280" data-color="#6b7280"></button>
            <button type="button" class="color-option w-6 h-6 rounded border border-neutral-600" style="background-color: #ffffff" data-color="#ffffff"></button>
          </div>
        </div>
        
        <div class="w-px h-6 bg-neutral-700 mx-1"></div>
        
        <!-- Lists -->
        <button type="button" class="toolbar-btn" data-command="bulletList" title="Bullet List">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
          </svg>
        </button>
        <button type="button" class="toolbar-btn" data-command="orderedList" title="Numbered List">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
          </svg>
        </button>
        <button type="button" class="toolbar-btn" data-command="blockquote" title="Quote">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
          </svg>
        </button>
        
        <div class="w-px h-6 bg-neutral-700 mx-1"></div>
        
        <!-- Code Block -->
        <div class="relative code-block-container">
          <button type="button" class="toolbar-btn code-block-btn" data-command="codeBlock" title="Code Block">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="16,18 22,12 16,6"></polyline>
              <polyline points="8,6 2,12 8,18"></polyline>
            </svg>
          </button>
          <div class="language-dropdown hidden absolute top-full left-0 mt-1 py-1 bg-neutral-800 border border-neutral-700 rounded shadow-lg z-10 min-w-[140px]">
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="javascript">JavaScript</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="typescript">TypeScript</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="html">HTML</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="css">CSS</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="python">Python</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="json">JSON</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="bash">Bash</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="php">PHP</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="sql">SQL</button>
            <button type="button" class="language-option w-full px-3 py-1.5 text-left text-sm text-gray-300 hover:bg-neutral-700" data-language="plaintext">Plain Text</button>
          </div>
        </div>
        
        <div class="w-px h-6 bg-neutral-700 mx-1"></div>
        
        <!-- Links & Images -->
        <button type="button" class="toolbar-btn" data-command="link" title="Insert Link">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
          </svg>
        </button>
        <button type="button" class="toolbar-btn" data-command="image" title="Insert Image">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
        </button>
        
        <div class="w-px h-6 bg-neutral-700 mx-1"></div>
        
        <!-- Undo/Redo -->
        <button type="button" class="toolbar-btn" data-command="undo" title="Undo (Ctrl+Z)">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>
          </svg>
        </button>
        <button type="button" class="toolbar-btn" data-command="redo" title="Redo (Ctrl+Y)">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>
          </svg>
        </button>
        
        <div class="flex-1"></div>
        
        <!-- Search (right side) -->
        <div class="relative search-container">
          <button type="button" class="toolbar-btn search-toggle-btn" title="Search in text">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Editor Content -->
      <div class="editor-content-wrapper">
        <div id={editorId} class="editor-content min-h-[150px] p-4 bg-neutral-900 text-white rounded-b border border-t-0 border-neutral-700 focus-within:border-blue-400 focus-within:ring-2 focus-within:ring-blue-400/20"></div>
        
        <!-- Posting Guidelines -->
        <div class="mt-3 text-xs text-gray-500 dark:text-gray-400 space-y-1">
          <p>Avoid posting a single smiley or all smileys only.</p>
          <p>Avoid using all capital letters in your posts.</p>
          <p>Members can only speak in English or Tagalog.</p>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex items-center justify-between gap-3 mt-4">
        <button type="button" class="files-btn px-4 py-2 text-sm text-gray-400 hover:text-white border border-neutral-700 rounded hover:bg-neutral-700 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" />
          </svg>
          Files
        </button>
        <button type="button" class="post-btn px-6 py-2.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded transition-colors flex items-center gap-2">
          Post
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>

<script>
  import { Editor } from '@tiptap/core';
  import StarterKit from '@tiptap/starter-kit';
  import Link from '@tiptap/extension-link';
  import Image from '@tiptap/extension-image';
  import Placeholder from '@tiptap/extension-placeholder';
  import Underline from '@tiptap/extension-underline';
  import { TextStyle } from '@tiptap/extension-text-style';
  import Color from '@tiptap/extension-color';
  import CodeBlockLowlight from '@tiptap/extension-code-block-lowlight';
  import { common, createLowlight } from 'lowlight';

  // Create lowlight instance with common languages
  const lowlight = createLowlight(common);

  document.addEventListener('DOMContentLoaded', () => {
    const editors = document.querySelectorAll('.comment-editor');
    
    editors.forEach((editorContainer) => {
      const editorId = editorContainer.getAttribute('data-editor-id');
      const threadId = editorContainer.getAttribute('data-thread-id');
      const parentId = editorContainer.getAttribute('data-parent-id');
      const placeholder = editorContainer.getAttribute('data-placeholder') || 'Share your thoughts...';
      
      if (!editorId) return;
      const editorElement = document.getElementById(editorId);
      if (!editorElement) return;

      const editor = new Editor({
        element: editorElement,
        extensions: [
          StarterKit.configure({
            codeBlock: false, // Disable default code block, use CodeBlockLowlight instead
          }),
          Underline,
          TextStyle,
          Color,
          CodeBlockLowlight.configure({
            lowlight,
            HTMLAttributes: {
              class: 'code-block',
            },
          }),
          Link.configure({
            openOnClick: false,
            HTMLAttributes: {
              class: 'text-blue-400 underline hover:text-blue-300',
            },
          }),
          Image.configure({
            HTMLAttributes: {
              class: 'max-w-full h-auto rounded my-2',
            },
          }),
          Placeholder.configure({
            placeholder: placeholder || 'Share your thoughts...',
          }),
        ],
        editorProps: {
          attributes: {
            class: 'prose prose-invert max-w-none focus:outline-none min-h-[120px]',
          },
        },
      });

      // Update toolbar button active states
      const updateToolbarState = () => {
        const toolbarButtons = editorContainer.querySelectorAll('.toolbar-btn[data-command]');
        toolbarButtons.forEach((btn) => {
          const command = btn.getAttribute('data-command');
          if (!command) return;
          
          let isActive = false;
          switch (command) {
            case 'bold':
              isActive = editor.isActive('bold');
              break;
            case 'italic':
              isActive = editor.isActive('italic');
              break;
            case 'underline':
              isActive = editor.isActive('underline');
              break;
            case 'strike':
              isActive = editor.isActive('strike');
              break;
            case 'bulletList':
              isActive = editor.isActive('bulletList');
              break;
            case 'orderedList':
              isActive = editor.isActive('orderedList');
              break;
            case 'blockquote':
              isActive = editor.isActive('blockquote');
              break;
            case 'codeBlock':
              isActive = editor.isActive('codeBlock');
              break;
          }
          
          btn.classList.toggle('active', isActive);
        });
      };

      editor.on('selectionUpdate', updateToolbarState);
      editor.on('update', updateToolbarState);

      // Color picker functionality
      const colorBtn = editorContainer.querySelector('.color-btn');
      const colorDropdown = editorContainer.querySelector('.color-dropdown');
      const colorOptions = editorContainer.querySelectorAll('.color-option');

      if (colorBtn && colorDropdown) {
        colorBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          colorDropdown.classList.toggle('hidden');
        });

        colorOptions.forEach((option) => {
          option.addEventListener('click', (e) => {
            e.preventDefault();
            const color = option.getAttribute('data-color');
            if (color) {
              editor.chain().focus().setColor(color).run();
              const indicator = colorBtn.querySelector('.color-indicator') as HTMLElement;
              if (indicator) {
                indicator.style.backgroundColor = color;
              }
            }
            colorDropdown.classList.add('hidden');
          });
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
          if (!colorBtn.contains(e.target as Node) && !colorDropdown.contains(e.target as Node)) {
            colorDropdown.classList.add('hidden');
          }
        });
      }

      // Code block dropdown functionality
      const codeBlockBtn = editorContainer.querySelector('.code-block-btn');
      const languageDropdown = editorContainer.querySelector('.language-dropdown');
      const languageOptions = editorContainer.querySelectorAll('.language-option');

      if (codeBlockBtn && languageDropdown) {
        codeBlockBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          languageDropdown.classList.toggle('hidden');
        });

        languageOptions.forEach((option) => {
          option.addEventListener('click', (e) => {
            e.preventDefault();
            const language = option.getAttribute('data-language') || 'plaintext';
            editor.chain().focus().toggleCodeBlock({ language }).run();
            languageDropdown.classList.add('hidden');
          });
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
          if (!codeBlockBtn.contains(e.target as Node) && !languageDropdown.contains(e.target as Node)) {
            languageDropdown.classList.add('hidden');
          }
        });
      }

      // Toolbar button handlers
      const toolbarButtons = editorContainer.querySelectorAll('.toolbar-btn:not(.color-btn):not(.search-toggle-btn):not(.code-block-btn)');
      toolbarButtons.forEach((btn) => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const command = btn.getAttribute('data-command');
          if (!command) return;
          
          switch (command) {
            case 'bold':
              editor.chain().focus().toggleBold().run();
              break;
            case 'italic':
              editor.chain().focus().toggleItalic().run();
              break;
            case 'underline':
              editor.chain().focus().toggleUnderline().run();
              break;
            case 'strike':
              editor.chain().focus().toggleStrike().run();
              break;
            case 'bulletList':
              editor.chain().focus().toggleBulletList().run();
              break;
            case 'orderedList':
              editor.chain().focus().toggleOrderedList().run();
              break;
            case 'blockquote':
              editor.chain().focus().toggleBlockquote().run();
              break;
            case 'link':
              const url = window.prompt('Enter URL:');
              if (url) {
                editor.chain().focus().setLink({ href: url }).run();
              }
              break;
            case 'image':
              const imageUrl = window.prompt('Enter image URL:');
              if (imageUrl) {
                editor.chain().focus().setImage({ src: imageUrl }).run();
              }
              break;
            case 'undo':
              editor.chain().focus().undo().run();
              break;
            case 'redo':
              editor.chain().focus().redo().run();
              break;
          }
        });
      });

      // Post button handler
      const postBtn = editorContainer.querySelector('.post-btn') as HTMLButtonElement;
      if (postBtn) {
        postBtn.addEventListener('click', async () => {
          const content = editor.getHTML();
          if (!content || content === '<p></p>') {
            alert('Please enter some content');
            return;
          }

          const originalHTML = postBtn.innerHTML;
          postBtn.disabled = true;
          postBtn.innerHTML = 'Posting...';

          try {
            let url: string, body: string;
            if (parentId) {
              url = `/api/comments/${parentId}/replies`;
              body = JSON.stringify({
                content,
                threadId: parseInt(threadId || '0'),
              });
            } else if (threadId) {
              url = `/api/threads/${threadId}/comments`;
              body = JSON.stringify({
                content,
              });
            } else {
              alert('Thread ID is required');
              return;
            }

            const response = await fetch(url, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body,
            });

            if (!response.ok) {
              const error = await response.json();
              if (response.status === 401) {
                // Show login modal or redirect
                if (confirm('You need to be logged in to post a comment. Would you like to log in?')) {
                  window.location.href = `/login?returnUrl=${encodeURIComponent(window.location.pathname)}`;
                }
                return;
              }
              throw new Error(error.error || 'Failed to post comment');
            }

            editor.commands.clearContent();
            window.location.reload();
          } catch (error: unknown) {
            const message = error instanceof Error ? error.message : 'Failed to post comment';
            alert(message);
          } finally {
            postBtn.disabled = false;
            postBtn.innerHTML = originalHTML;
          }
        });
      }
    });
  });
</script>

<style>
  @reference "../styles/global.css";
  
  .toolbar-btn {
    @apply px-2 py-1.5 text-gray-400 hover:text-white hover:bg-neutral-700 rounded transition-colors;
  }

  .toolbar-btn.active {
    @apply text-blue-400 bg-blue-900/30;
  }

  .editor-content :global(.ProseMirror) {
    @apply min-h-[120px] outline-none;
  }

  .editor-content :global(p) {
    @apply mb-2;
  }

  .editor-content :global(p.is-editor-empty:first-child::before) {
    @apply text-gray-500;
    content: attr(data-placeholder);
    float: left;
    height: 0;
    pointer-events: none;
  }

  .editor-content :global(ul),
  .editor-content :global(ol) {
    @apply ml-6 mb-2;
  }

  .editor-content :global(ul) {
    @apply list-disc;
  }

  .editor-content :global(ol) {
    @apply list-decimal;
  }

  .editor-content :global(blockquote) {
    @apply border-l-4 border-blue-400 pl-4 italic text-gray-300 my-2 bg-blue-900/20 py-2 rounded-r;
  }

  .editor-content :global(a) {
    @apply text-blue-400 underline hover:text-blue-300;
  }

  .editor-content :global(img) {
    @apply max-w-full h-auto rounded my-2;
  }

  .editor-content :global(u) {
    @apply underline;
  }

  .editor-content :global(s) {
    @apply line-through;
  }

  /* Code block styles */
  .editor-content :global(pre) {
    @apply bg-neutral-900 border border-neutral-700 rounded-lg my-2 overflow-x-auto;
  }

  .editor-content :global(pre code) {
    @apply block p-4 text-sm font-mono text-gray-200;
  }

  .editor-content :global(code) {
    @apply bg-neutral-700 px-1.5 py-0.5 rounded text-amber-400 text-sm font-mono;
  }

  .editor-content :global(pre code) {
    @apply bg-transparent p-4;
  }

  /* Syntax highlighting - Lowlight/Highlight.js classes */
  .editor-content :global(.hljs-keyword),
  .editor-content :global(.hljs-selector-tag),
  .editor-content :global(.hljs-built_in),
  .editor-content :global(.hljs-name) {
    @apply text-purple-400;
  }

  .editor-content :global(.hljs-string),
  .editor-content :global(.hljs-attr),
  .editor-content :global(.hljs-symbol),
  .editor-content :global(.hljs-bullet) {
    @apply text-green-400;
  }

  .editor-content :global(.hljs-number),
  .editor-content :global(.hljs-literal) {
    @apply text-orange-400;
  }

  .editor-content :global(.hljs-title),
  .editor-content :global(.hljs-section),
  .editor-content :global(.hljs-selector-class) {
    @apply text-yellow-400;
  }

  .editor-content :global(.hljs-function),
  .editor-content :global(.hljs-title.function_) {
    @apply text-blue-400;
  }

  .editor-content :global(.hljs-comment),
  .editor-content :global(.hljs-quote) {
    @apply text-gray-500 italic;
  }

  .editor-content :global(.hljs-meta),
  .editor-content :global(.hljs-tag) {
    @apply text-cyan-400;
  }

  .editor-content :global(.hljs-attribute),
  .editor-content :global(.hljs-selector-attr) {
    @apply text-cyan-300;
  }

  .editor-content :global(.hljs-variable),
  .editor-content :global(.hljs-template-variable),
  .editor-content :global(.hljs-params) {
    @apply text-red-400;
  }

  .editor-content :global(.hljs-regexp) {
    @apply text-red-300;
  }

  .editor-content :global(.hljs-type),
  .editor-content :global(.hljs-class .hljs-title) {
    @apply text-teal-400;
  }
</style>
