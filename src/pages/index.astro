---
import Layout from "../layouts/Layout.astro";
import Nav from "../components/Nav.astro";
import Hero from "../components/Hero.astro";
import AboutUs from "../components/AboutUs.astro";
import Blogs from "../components/Blogs.astro";

// Check if admin user is accessing home page and show message
const locals = Astro.locals as any;
const user = locals?.user;
const isAdmin = user?.role === 'ADMIN' || user?.role === 'MODERATOR';
const showAdminMessage = isAdmin && Astro.url.searchParams.get('admin-redirect');
---

<Layout title="Project Likha">
	<div class="flex flex-col bg-neutral-900">
		{showAdminMessage && (
			<div class="bg-blue-600 border-b border-blue-700 px-6 py-4 text-center">
				<p class="text-white">
					üîê You have admin privileges! You can access the <a href="/admin" class="font-semibold underline hover:text-blue-200">Admin Dashboard</a> or continue to the home page.
				</p>
			</div>
		)}
		<Hero />
		<AboutUs />
		<Blogs/>
	</div>
</Layout>
