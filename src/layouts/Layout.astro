---
import "../styles/global.css";

interface Props {
	title: string;
	description?: string;
	image?: string;
	showNav?: boolean;
}

const {
	title,
	description = " Project Likha is an open, community-driven space for tech enthusiasts, programmers, artists, and digital creators who believe in learning through sharing. It brings together people from different backgrounds to explore, create, and grow through shared knowledge.",
	image = "/Char.svg",
	showNav = true,
} = Astro.props;
import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";
import { cn } from "../lib/utils";
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/Char.svg" />
		<meta name="generator" content={Astro.generator} />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@600&family=Schibsted+Grotesk:wght@700&display=swap"
			rel="stylesheet"
		/>
		<meta property="og:image" content={image} />
		<title>{title}</title>
	</head>
	<body>
		{showNav && <Nav />}
		<main>
			<slot />
		</main>
		<div class="relative z-10">
			<Footer />
		</div>
	</body>
</html>

<style>
	html,
	body {
		margin: 0;
		padding: 0;
		width: 100%;
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		background-color: oklch(0.205 0 0);
	}

	body {
		flex: 1;
	}

	main {
		flex: 1;
	}

	/* Scroll-triggered fade-in animation */
	.scroll-fade-in {
		opacity: 0;
		transform: translateY(30px);
		transition: opacity 0.6s ease-out, transform 0.6s ease-out;
	}

	.scroll-fade-in.visible {
		opacity: 1;
		transform: translateY(0);
	}

	/* Stagger delay utilities */
	.scroll-fade-in[data-delay="100"] { transition-delay: 100ms; }
	.scroll-fade-in[data-delay="200"] { transition-delay: 200ms; }
	.scroll-fade-in[data-delay="300"] { transition-delay: 300ms; }
	.scroll-fade-in[data-delay="400"] { transition-delay: 400ms; }
	.scroll-fade-in[data-delay="500"] { transition-delay: 500ms; }
</style>

<script>
	// Intersection Observer for scroll animations
	document.addEventListener('DOMContentLoaded', () => {
		const observerOptions = {
			root: null,
			rootMargin: '0px 0px -50px 0px',
			threshold: 0.1
		};

		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					entry.target.classList.add('visible');
					// Optionally unobserve after animation
					// observer.unobserve(entry.target);
				}
			});
		}, observerOptions);

		// Observe all elements with scroll-fade-in class
		document.querySelectorAll('.scroll-fade-in').forEach(el => {
			observer.observe(el);
		});
	});
</script>
